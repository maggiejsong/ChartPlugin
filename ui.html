<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        font-family: Inter, sans-serif;
        text-align: center;
        padding: 16px;
      }
      h2 {
        color: #0ecca7;
      }
      textarea {
        width: 100%;
        height: 120px;
        margin-bottom: 12px;
        border: 1px solid #ccc;
        border-radius: 6px;
        padding: 8px;
      }
      button {
        margin: 6px;
        padding: 6px 12px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }
      #plot {
        background-color: #0ecca7;
        color: white;
      }
      #cancel {
        background-color: #e0e0e0;
      }
    </style>
  </head>
  <body>
    <h2>Scatter Plot Input</h2>
    <textarea id="points" placeholder="Enter coordinates as x,y per line (e.g. 100,150)"></textarea><br>
    <button id="plot">Plot Points</button>
    <button id="cancel">Cancel</button>

    <script>
      document.getElementById('plot').onclick = () => {
        const raw = document.getElementById('points').value;
        const points = raw
          .split('\n')
          .map(line => line.trim())
          .filter(Boolean)
          .map(line => {
            const [x, y] = line.split(',').map(Number);
            return { x, y };
          });
        parent.postMessage({ pluginMessage: { type: 'plot-points', points } }, '*');
      };

      document.getElementById('cancel').onclick = () => {
        parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*');
      };
    </script>
  </body>
</html>
